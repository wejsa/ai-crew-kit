# 테스트 시나리오: {기능명}

## 개요
- **대상 기능**: {기능 설명}
- **테스트 범위**: {범위}
- **작성일**: {YYYY-MM-DD}
- **작성자**: {작성자}

---

## 1. 단위 테스트 (Unit Test)

### 1.1 {컴포넌트명} 테스트

#### TC-U-001: {테스트 케이스 제목}
- **목적**: {테스트 목적}
- **사전 조건**: {필요한 상태/데이터}
- **테스트 입력**:
  ```json
  {
    "field": "value"
  }
  ```
- **예상 결과**: {기대 동작}
- **검증 항목**:
  - [ ] {검증 1}
  - [ ] {검증 2}

#### TC-U-002: {예외 케이스 제목}
- **목적**: 예외 상황 처리 검증
- **사전 조건**: {예외 상황 조건}
- **테스트 입력**: {잘못된 입력}
- **예상 결과**: {예외 발생/에러 코드}
- **검증 항목**:
  - [ ] 적절한 예외 발생
  - [ ] 에러 메시지 정확성

---

## 2. 통합 테스트 (Integration Test)

### 2.1 API 통합 테스트

#### TC-I-001: {API 엔드포인트} 정상 흐름
- **목적**: E2E 정상 동작 검증
- **API**: `{METHOD} /api/v1/{path}`
- **사전 조건**:
  - 인증 토큰 발급됨
  - 필요 데이터 준비됨
- **요청**:
  ```http
  POST /api/v1/examples HTTP/1.1
  Authorization: Bearer {token}
  Content-Type: application/json

  {
    "name": "test"
  }
  ```
- **예상 응답**:
  ```http
  HTTP/1.1 201 Created
  Content-Type: application/json

  {
    "id": "uuid",
    "name": "test",
    "status": "ACTIVE"
  }
  ```
- **검증 항목**:
  - [ ] 상태 코드 201
  - [ ] 응답 스키마 일치
  - [ ] DB에 데이터 저장됨

#### TC-I-002: 인증 실패 케이스
- **목적**: 인증 없이 요청 시 거부 확인
- **API**: `{METHOD} /api/v1/{path}`
- **요청**: 토큰 없이 요청
- **예상 응답**: 401 Unauthorized
- **검증 항목**:
  - [ ] 상태 코드 401
  - [ ] 에러 응답 형식 준수

---

## 3. 성능 테스트 (Performance Test)

### 3.1 응답 시간 테스트

#### TC-P-001: 응답 시간 검증
- **목적**: 응답 시간 SLA 충족 확인
- **조건**:
  - 동시 사용자: 100명
  - 요청 기간: 1분
- **기준**:
  - P95 < 100ms
  - P99 < 200ms
- **검증 항목**:
  - [ ] P95 응답 시간
  - [ ] P99 응답 시간
  - [ ] 에러율 < 0.1%

### 3.2 부하 테스트

#### TC-P-002: 최대 처리량 테스트
- **목적**: 최대 TPS 확인
- **조건**: 점진적 부하 증가
- **기준**: > 1,000 TPS
- **검증 항목**:
  - [ ] 최대 TPS
  - [ ] 리소스 사용률

---

## 4. 보안 테스트 (Security Test)

### 4.1 인증/인가 테스트

#### TC-S-001: 권한 없는 접근 차단
- **목적**: 권한 검증 로직 확인
- **시나리오**: 일반 사용자가 관리자 API 접근
- **예상 결과**: 403 Forbidden
- **검증 항목**:
  - [ ] 적절한 상태 코드
  - [ ] 감사 로그 기록

### 4.2 입력 검증 테스트

#### TC-S-002: SQL Injection 방지
- **목적**: SQL Injection 취약점 검증
- **입력**: `'; DROP TABLE users; --`
- **예상 결과**: 안전하게 처리됨
- **검증 항목**:
  - [ ] 에러 발생 없음
  - [ ] 데이터 무결성 유지

#### TC-S-003: XSS 방지
- **목적**: XSS 취약점 검증
- **입력**: `<script>alert('xss')</script>`
- **예상 결과**: 이스케이프 처리됨
- **검증 항목**:
  - [ ] 스크립트 실행 안됨
  - [ ] 안전하게 저장/표시됨

---

## 5. 동시성 테스트 (Concurrency Test)

### 5.1 경쟁 상태 테스트

#### TC-C-001: 동시 수정 충돌 처리
- **목적**: 동시 요청 시 데이터 일관성 확인
- **시나리오**: 동일 리소스에 10개 동시 요청
- **예상 결과**: 하나만 성공, 나머지 적절히 처리
- **검증 항목**:
  - [ ] 데이터 무결성
  - [ ] 적절한 에러 응답
  - [ ] 데드락 없음

---

## 6. 테스트 환경

### 6.1 환경 설정
- **DB**: H2 (테스트) / PostgreSQL (통합)
- **프로파일**: `test`
- **모킹**: {외부 서비스 모킹 정보}

### 6.2 테스트 데이터
```sql
-- 테스트 데이터 준비 스크립트
INSERT INTO examples (id, name, status) VALUES
  ('uuid-1', 'test1', 'ACTIVE'),
  ('uuid-2', 'test2', 'INACTIVE');
```

---

## 7. 체크리스트

### 테스트 완료 기준
- [ ] 모든 단위 테스트 통과
- [ ] 모든 통합 테스트 통과
- [ ] 커버리지 80% 이상
- [ ] 성능 기준 충족
- [ ] 보안 테스트 통과
- [ ] 동시성 테스트 통과

### 리뷰 완료
- [ ] 테스트 코드 리뷰
- [ ] 테스트 커버리지 확인
- [ ] Edge 케이스 검토

---
name: skill-plan
description: ê³„íš ìˆ˜ë¦½ - Task ì„ íƒ + ì„¤ê³„ ë¶„ì„ + ìŠ¤í… ë¶„ë¦¬ ê³„íš
disable-model-invocation: false
allowed-tools: Bash(git:*), Read, Write, Glob, Grep, Task
argument-hint: "[taskId]"
---

# skill-plan: ê³„íš ìˆ˜ë¦½

## ì‹¤í–‰ ì¡°ê±´
- ì‚¬ìš©ìê°€ `/skill-plan` ë˜ëŠ” "ë‹¤ìŒ ì‘ì—… ê°€ì ¸ì™€" ìš”ì²­ ì‹œ
- íŠ¹ì • Task ì§€ì •: `/skill-plan {taskId}`

## ì‹¤í–‰ í”Œë¡œìš°

### 1. Task ì„ íƒ

**ìë™ ì„ íƒ ê¸°ì¤€** (taskId ë¯¸ì§€ì • ì‹œ):
1. `status: todo` ì¸ Task ì¤‘
2. `dependencies` ëª¨ë‘ ì¶©ì¡±ëœ Task ì¤‘
3. `lockedFiles` ì¶©ëŒ ì—†ëŠ” Task ì¤‘
4. `priority` ë†’ì€ ìˆœì„œëŒ€ë¡œ
5. ê°™ì€ ìš°ì„ ìˆœìœ„ë©´ `phase` ë‚®ì€ ìˆœì„œ

**ì„ íƒ ë¶ˆê°€ ì¡°ê±´**:
- ì˜ì¡´ì„± ë¯¸ì¶©ì¡± TaskëŠ” `blocked` í‘œì‹œ
- ê°™ì€ íŒŒì¼ì„ ìˆ˜ì •í•˜ëŠ” `in_progress` Task ì¡´ì¬ ì‹œ ê²½ê³ 

**ë³‘ë ¬ ì‘ì—… ê°€ëŠ¥ ì¡°ê±´**:
- ì˜ì¡´ì„± ì²´ì¸ì— ì—†ëŠ” Task
- ë‹¤ë¥¸ `in_progress` Taskì˜ `lockedFiles`ì™€ ê²¹ì¹˜ì§€ ì•ŠìŒ

### 2. ìš”êµ¬ì‚¬í•­ í™•ì¸
ì„ íƒëœ Taskì˜ `specFile` ì½ê¸°:
```
docs/requirements/{taskId}-spec.md
```

### 3.0 DB ì„¤ê³„ ë¶„ì„ (ë³‘ë ¬ Task)

`.claude/state/project.json`ì˜ `agents.enabled`ì— `"db-designer"`ê°€ í¬í•¨ëœ ê²½ìš°ì—ë§Œ ì‹¤í–‰í•©ë‹ˆë‹¤.

**ì‹¤í–‰ ë°©ë²•:**
- ì„¹ì…˜ 3ì˜ ì„¤ê³„ ë¶„ì„ê³¼ **ë³‘ë ¬ë¡œ** Task tool í˜¸ì¶œ
- Task tool (subagent_type: "general-purpose")ë¡œ agent-db-designer ì‹¤í–‰
- ê²°ê³¼ë¥¼ ê³„íš íŒŒì¼ì˜ "ë°ì´í„° ëª¨ë¸" ì„¹ì…˜ì— í†µí•©

**í˜¸ì¶œ íŒ¨í„´:**

```
Task tool (subagent_type: "general-purpose"):
  prompt: |
    .claude/agents/agent-db-designer.md íŒŒì¼ì„ Readë¡œ ì½ê³ ,
    í•´ë‹¹ ì§€ì¹¨ì— ë”°ë¼ ì•„ë˜ ìš”êµ¬ì‚¬í•­ì˜ DB ì„¤ê³„ë¥¼ ë¶„ì„í•˜ì„¸ìš”.

    ë„ë©”ì¸: {domain}
    ìš”êµ¬ì‚¬í•­: {specFile ë‚´ìš© ìš”ì•½}
```

**ì˜¤ë¥˜ ì²˜ë¦¬:**
- Task ì‹¤íŒ¨/íƒ€ì„ì•„ì›ƒ ì‹œ: ê³„íš íŒŒì¼ ë°ì´í„° ëª¨ë¸ ì„¹ì…˜ì— "DB ì„¤ê³„ ë¶„ì„ ë¶ˆê°€ - ë©”ì¸ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì§ì ‘ ì‘ì„±" í‘œê¸°
- Task ê²°ê³¼ í˜•ì‹ ë¶ˆì¼ì¹˜ ì‹œ: í…ìŠ¤íŠ¸ ê·¸ëŒ€ë¡œ í¬í•¨
- agents.enabledì— ë¯¸í¬í•¨ ì‹œ: Task í˜¸ì¶œ ìŠ¤í‚µ, ë©”ì¸ ì»¨í…ìŠ¤íŠ¸ì—ì„œ ì§ì ‘ ì‘ì„±

### 3. ì„¤ê³„ ë¶„ì„
ìš”êµ¬ì‚¬í•­ ê¸°ë°˜ìœ¼ë¡œ ë¶„ì„:

**ë„ë©”ì¸ í…œí”Œë¦¿ ì°¸ì¡°**:
- `.claude/state/project.json`ì—ì„œ í˜„ì¬ ë„ë©”ì¸ í™•ì¸
- `.claude/domains/{domain}/templates/` ë””ë ‰í† ë¦¬ì—ì„œ ê´€ë ¨ í…œí”Œë¦¿ í™œìš©
- `.claude/domains/_base/templates/`ì˜ ê³µí†µ í…œí”Œë¦¿ ì°¸ì¡°

#### 3.1 ì»´í¬ë„ŒíŠ¸ ì„¤ê³„
- ìƒì„±/ìˆ˜ì •í•  íŒŒì¼ ëª©ë¡
- ê° íŒŒì¼ì˜ ì—­í• ê³¼ ì±…ì„
- íŒ¨í‚¤ì§€/ëª¨ë“ˆ êµ¬ì¡°

#### 3.2 ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
- ì£¼ìš” í”Œë¡œìš° ì‹œê°í™”
- ì»´í¬ë„ŒíŠ¸ ê°„ ìƒí˜¸ì‘ìš©

#### 3.3 API ì„¤ê³„ (í•´ë‹¹ ì‹œ)
- ì—”ë“œí¬ì¸íŠ¸ ì •ì˜
- ìš”ì²­/ì‘ë‹µ ìŠ¤í‚¤ë§ˆ
- ì—ëŸ¬ ì½”ë“œ

#### 3.4 ë°ì´í„° ëª¨ë¸
- ì—”í‹°í‹°/DTO ì •ì˜
- ê´€ê³„ ì„¤ê³„

### 4. ìŠ¤í… ë¶„ë¦¬ ê³„íš
**ë¶„ë¦¬ ê¸°ì¤€**:
- ê° ìŠ¤í… **500ë¼ì¸ ë¯¸ë§Œ**
- ë…¼ë¦¬ì  ë‹¨ìœ„ë¡œ ë¶„ë¦¬
- ê° ìŠ¤í…ì€ ë…ë¦½ì ìœ¼ë¡œ ë¹Œë“œ/í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

**ìŠ¤í… êµ¬ì¡°**:
```
Step 1: {ì œëª©}
- íŒŒì¼: {íŒŒì¼ ëª©ë¡}
- ì˜ˆìƒ ë¼ì¸: {N}
- ë‚´ìš©: {ìƒì„¸ ì„¤ëª…}

Step 2: {ì œëª©}
- íŒŒì¼: {íŒŒì¼ ëª©ë¡}
- ì˜ˆìƒ ë¼ì¸: {N}
- ë‚´ìš©: {ìƒì„¸ ì„¤ëª…}
- ì˜ì¡´: Step 1
```

### 4.5 íŒŒì¼ ì¶©ëŒ ê²€ì‚¬

ê³„íš ìˆ˜ë¦½ ì™„ë£Œ í›„, ë‹¤ë¥¸ `in_progress` Taskì™€ íŒŒì¼ ì¶©ëŒ ê²€ì‚¬:

1. ìŠ¤í…ë³„ ìˆ˜ì • ì˜ˆì • íŒŒì¼ ëª©ë¡ ì¶”ì¶œ
2. backlog.jsonì˜ ë‹¤ë¥¸ `in_progress` Task `lockedFiles` ì¡°íšŒ
3. êµì§‘í•© ê²€ì‚¬

**ì¶©ëŒ ì—†ìŒ**: ì •ìƒ ì§„í–‰

**ì¶©ëŒ ë°œìƒ ì‹œ**:
```
âš ï¸ íŒŒì¼ ì¶©ëŒ ê²½ê³ 

ë‹¤ìŒ íŒŒì¼ì´ ë‹¤ë¥¸ Taskì—ì„œ ìˆ˜ì • ì¤‘ì…ë‹ˆë‹¤:
- src/auth/JwtService.kt
  â””â”€â”€ TASK-002 (dev@OTHER-PC-20260203-100000) Step 2 ì§„í–‰ ì¤‘

ì˜µì…˜:
1. ìˆœì°¨ ì²˜ë¦¬ - í•´ë‹¹ Task ì™„ë£Œ ëŒ€ê¸° (ê¶Œì¥)
2. ê°•ì œ ì§„í–‰ âš ï¸
   - ë¨¸ì§€ ì‹œ ìˆ˜ë™ ì¶©ëŒ í•´ê²° í•„ìš”
   - ê°™ì€ íŒŒì¼ ë™ì‹œ ìˆ˜ì •ìœ¼ë¡œ ì½”ë“œ ì†ì‹¤ ê°€ëŠ¥
   - ì •ë§ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? ("yes" ì…ë ¥)
```

**ê°•ì œ ì§„í–‰ ì‹œ**: ê³„íš íŒŒì¼ì— ì¶©ëŒ ê²½ê³  ëª…ì‹œ

---

### 5. ê³„íš íŒŒì¼ ìƒì„±
`.claude/temp/{taskId}-plan.md` ìƒì„±:

```markdown
# {Task ID}: {ì œëª©} - ê°œë°œ ê³„íš

## ìš”êµ¬ì‚¬í•­ ìš”ì•½
{ìš”êµ¬ì‚¬í•­ í•µì‹¬ ë‚´ìš©}

## ì„¤ê³„

### ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°
```
{íŒ¨í‚¤ì§€/íŒŒì¼ êµ¬ì¡°}
```

### ì‹œí€€ìŠ¤ ë‹¤ì´ì–´ê·¸ë¨
```mermaid
sequenceDiagram
{ë‹¤ì´ì–´ê·¸ë¨}
```

### API ì„¤ê³„
{API ì •ì˜}

### ë°ì´í„° ëª¨ë¸
{ëª¨ë¸ ì •ì˜}

## ìŠ¤í…ë³„ ê³„íš

### Step 1: {ì œëª©}
- **íŒŒì¼**: {íŒŒì¼ ëª©ë¡}
- **ì˜ˆìƒ ë¼ì¸**: {N}
- **ë‚´ìš©**:
  - {ì‘ì—… 1}
  - {ì‘ì—… 2}
- **í…ŒìŠ¤íŠ¸**:
  - {í…ŒìŠ¤íŠ¸ í•­ëª©}

### Step 2: {ì œëª©}
...

## ì˜ˆìƒ ì¼ì •
- ì „ì²´ ìŠ¤í…: {N}ê°œ
- ì˜ˆìƒ PR: {N}ê°œ

## ë¦¬ìŠ¤í¬ & ê³ ë ¤ì‚¬í•­
- {ë¦¬ìŠ¤í¬ 1}
- {ë¦¬ìŠ¤í¬ 2}
```

### 6. ì‚¬ìš©ì ê²€í† /ìŠ¹ì¸ ìš”ì²­
- ì„¤ê³„ì™€ ìŠ¤í… ê³„íš ì œì‹œ
- ìˆ˜ì • ì˜ê²¬ ìˆ˜ë ´
- **ìŠ¹ì¸ ë°›ì„ ë•Œê¹Œì§€ ê°œë°œ ì§„í–‰í•˜ì§€ ì•ŠìŒ**

### 7. ìƒíƒœ ì—…ë°ì´íŠ¸ (ìŠ¹ì¸ í›„)

`backlog.json` ì—…ë°ì´íŠ¸:
```json
{
  "status": "in_progress",
  "assignee": "dev@DESKTOP-ABC-20260203-143052",
  "assignedAt": "2026-02-03T14:30:52Z",
  "lockedFiles": ["src/auth/JwtService.kt", "src/auth/TokenValidator.kt"],
  "steps": [
    {"number": 1, "title": "...", "status": "pending", "files": ["JwtService.kt"]},
    {"number": 2, "title": "...", "status": "pending", "files": ["TokenValidator.kt"]}
  ],
  "currentStep": 1,
  "updatedAt": "{timestamp}"
}
```

### 8. skill-impl ìë™ í˜¸ì¶œ

**"Y" ìŠ¹ì¸ ì‹œ ë°˜ë“œì‹œ ìˆ˜í–‰:**
```
Skill tool ì‚¬ìš©: skill="skill-impl"
```

**ì¤‘ìš”:**
- backlog.json ì—…ë°ì´íŠ¸ í›„ skill-impl í˜¸ì¶œ
- skill-impl í˜¸ì¶œ ì—†ì´ ì§ì ‘ ê°œë°œ ì§„í–‰ **ê¸ˆì§€**
- ë°˜ë“œì‹œ Skill toolì„ ì‚¬ìš©í•˜ì—¬ skill-impl ìŠ¤í‚¬ ì‹¤í–‰

**ì¶œë ¥ ì˜ˆì‹œ:**
```
âœ… ê³„íš ìŠ¹ì¸ ì™„ë£Œ
ğŸ”„ Step 1 ê°œë°œì„ ìë™ ì‹œì‘í•©ë‹ˆë‹¤...
```

## ì¶œë ¥ í¬ë§·

```
## ğŸ“‹ ê³„íš ìˆ˜ë¦½: {Task ID}

### ì„ íƒëœ Task
- **ID**: {taskId}
- **ì œëª©**: {ì œëª©}
- **Phase**: {phase}
- **ìš°ì„ ìˆœìœ„**: {priority}

### ì„¤ê³„ ìš”ì•½
{ì„¤ê³„ í•µì‹¬ ë‚´ìš©}

### ìŠ¤í… ê³„íš
| Step | ì œëª© | ì˜ˆìƒ ë¼ì¸ | ì£¼ìš” íŒŒì¼ |
|------|------|----------|----------|
| 1 | {ì œëª©} | {N} | {íŒŒì¼} |
| 2 | {ì œëª©} | {N} | {íŒŒì¼} |

### ê³„íš íŒŒì¼
ğŸ“„ `.claude/temp/{taskId}-plan.md` ìƒì„± ì™„ë£Œ

---
ì„¤ê³„ì™€ ìŠ¤í… ê³„íšì„ ê²€í† í•´ì£¼ì„¸ìš”.
ìŠ¹ì¸í•˜ì‹œë©´ ê°œë°œì„ ì‹œì‘í•©ë‹ˆë‹¤.

ìŠ¹ì¸í•˜ì‹œê² ìŠµë‹ˆê¹Œ? (Y/N)

> Y: ìƒíƒœ ì—…ë°ì´íŠ¸ í›„ `/skill-impl` ìë™ ì‹¤í–‰ (Step 1 ì‹œì‘)
> N: ê³„íš ìˆ˜ì •
```

## ë¼ì¸ ìˆ˜ ê°€ì´ë“œë¼ì¸
| ì˜ˆìƒ ë¼ì¸ | ìƒíƒœ | ì¡°ì¹˜ |
|----------|------|------|
| < 300 | âœ… ì–‘í˜¸ | ì§„í–‰ |
| 300~500 | âš ï¸ ì£¼ì˜ | ê°€ëŠ¥í•˜ë©´ ë¶„ë¦¬ ê¶Œì¥ |
| > 500 | âŒ ì´ˆê³¼ | ë°˜ë“œì‹œ ë¶„ë¦¬ |

## Git ë™ê¸°í™” í”„ë¡œí† ì½œ

ìƒíƒœ ì—…ë°ì´íŠ¸ ì‹œ:
```bash
# Worktree ê°ì§€
GIT_DIR=$(git rev-parse --git-dir 2>/dev/null)
GIT_COMMON_DIR=$(git rev-parse --git-common-dir 2>/dev/null)

if [ "$GIT_DIR" != "$GIT_COMMON_DIR" ]; then
  # Worktree ëª¨ë“œ
  git fetch origin develop
  git merge origin/develop
  git add .claude/state/backlog.json
  git commit -m "chore: start TASK-001"
  git push -u origin HEAD
else
  # ì¼ë°˜ ëª¨ë“œ
  git pull origin develop --rebase
  git add .claude/state/backlog.json
  git commit -m "chore: start TASK-001"
  git push origin develop
fi

# í‘¸ì‹œ ì‹¤íŒ¨ ì‹œ (ì¶©ëŒ)
git pull --rebase
# JSON ì¶©ëŒ: ë‘ Task ë³€ê²½ ëª¨ë‘ ìœ ì§€ (ìˆ˜ë™ í•´ê²°)
if [ "$GIT_DIR" != "$GIT_COMMON_DIR" ]; then
  git push -u origin HEAD
else
  git push origin develop
fi
```

## ì£¼ì˜ì‚¬í•­
- ê³„íš íŒŒì¼ì€ Gitì—ì„œ ì œì™¸ë¨ (`.claude/temp/`)
- ê³„íš ìŠ¹ì¸ ì „ ì½”ë“œ ì‘ì„± ê¸ˆì§€
- ì˜ì¡´ì„± ìˆëŠ” ìŠ¤í…ì€ ìˆœì„œ ëª…ì‹œ
- ê° ìŠ¤í…ì€ PR ìƒì„± ë‹¨ìœ„
- ë³‘ë ¬ ì‘ì—… ì‹œ `lockedFiles` ì¶©ëŒ ì£¼ì˜
